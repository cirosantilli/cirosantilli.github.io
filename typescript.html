<!doctype html>
<html lang=en>
<head>
<meta charset=utf-8>
<title>TypeScript - Ciro Santilli</title>
<meta property="og:title" content="TypeScript - Ciro Santilli">
<meta property="og:type" content="website">
<meta property="og:image" content="https://raw.githubusercontent.com/cirosantilli/media/master/ID_photo_of_Ciro_Santilli_taken_in_2013_square_398.jpg">
<meta property="og:url" content="https://cirosantilli.com/typescript">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.1/css/all.min.css" integrity="sha512-9my9Mb2+0YO+I4PUCSwUYO7sEK21Y0STBAiFEYoWtd2VzLEZZ4QARDrZ30hdM1GlioHJ8o8cWQiy8IAb1hy/Hg==" crossorigin="anonymous" referrerpolicy="no-referrer">
<link rel="canonical" href="https://ourbigbook.com/cirosantilli/typescript">
<style>@import "_obb/dist/ourbigbook.css";

</style>
<link rel="stylesheet" type="text/css" href="_raw/main.css">
<link rel="shortcut icon" type="image/x-icon" href="https://raw.githubusercontent.com/cirosantilli/media/master/ID_photo_of_Ciro_Santilli_taken_in_2013_square_398.jpg">
</head>
<body>
<header>
<div class="brand-group">
<a href="." class="brand"><img src="https://raw.githubusercontent.com/cirosantilli/media/master/ID_photo_of_Ciro_Santilli_taken_in_2013_right_eye_200_100.jpg" loading="lazy" alt="ID photo of Ciro Santilli taken in 2013 right eye">Ciro Santilli</a>
<a href="https://ourbigbook.com/cirosantilli"><img src="https://raw.githubusercontent.com/cirosantilli/media/master/ourbigbook-logo-v1.svg" loading="lazy" alt="OurBigBook logo">OurBigBook.com</a>
<a class="font-awesome-container" href="https://stackoverflow.com/users/895245"><i class="fab fa-stack-overflow fa-fw icon"></i></a>
<a class="font-awesome-container" href="https://github.com/cirosantilli"><i class="fab fa-github fa-fw icon"></i></a>
<a class="font-awesome-container" href="https://www.linkedin.com/in/cirosantilli"><i class="fab fa-linkedin fa-fw icon"></i></a>
<a class="font-awesome-container" href="https://www.youtube.com/c/CiroSantilli"><i class="fab fa-youtube fa-fw icon"></i></a>
<a class="font-awesome-container" href="https://twitter.com/cirosantilli"><i class="fab fa-twitter fa-fw icon"></i></a>
<a class="font-awesome-container" href="https://www.zhihu.com/people/cirosantilli/activities"><i class="fab fa-zhihu fa-fw icon"></i></a>
<a class="font-awesome-container" href="https://www.weibo.com/p/1005055601627311"><i class="fab fa-weibo fa-fw icon"></i></a>
<a href="sponsor"><span class="icon">$£</span>&nbsp;Sponsor</a>
<a href="https://github.com/cirosantilli/china-dictatorship"><span class="icon">中国</span>独裁统治&nbsp;China Dictatorship 新疆改造中心、六四事件、法轮功、郝海东、709大抓捕、2015巴拿马文件 邓家贵、低端人口、西藏骚乱</a>
</div>
</header>
<main class="ourbigbook">
<div class="h top" id="typescript"><div class="notnav"><h1><a href="typescript-split">TypeScript</a></h1></div><nav class="h-nav h-nav-toplevel"><div class="nav ancestors"><a  href="#_ancestors">&nbsp;...</a><a href="technology#information-technology"> Information technology</a><a href="computer"> Computer</a><a href="software"> Software</a><a href="programming-language"> Programming language</a><a href="programming-language#list-of-programming-languages"> List of programming languages</a><a href="programming-language#javascript"> JavaScript</a></div><div class="nav"><a href="https://en.wikipedia.org/wiki/TypeScript" class="wiki"></a><a href="https://ourbigbook.com/cirosantilli/typescript"><img src="_obb/logo.svg" class="logo" alt=""> OurBigBook.com</a><a class="split" href="typescript-split"></a><span class="metrics"><span class="wcntr"> Words: 411</span></span></div></nav></div><div class="p" id="_1">TypeScript is good. It does find errors in your <a href="programming-language#javascript">JavaScript</a>. But it is a form of "turd polishing". But <a href="ciro-santilli">Ciro Santilli</a> would rather have a polished turd than a non-polished one.</div><div class="p" id="_2">Part of the reason TypeScript became popular is due to the universality of <a href="web-technology#asset-bundler">asset bundlers</a>. Once you are already using an asset bundler, changing the <code>.js</code> extension into <code>.ts</code> to get a less shitty experience is an easy choice.</div><div class="p" id="_3">The other big reason is that JavaScript is so lose with type conversions, notably undefined happily converting to strings without problems, and any missing properties of Object happily being undefined. We should actually use ES6 Map everywhere instead of using Objects as maps.</div><div class="p" id="_4">Since TypeScript is not the default form of the language however, it inevitably happens that you need to add external types for a gazillion projects that are using raw JavaScript, and sometimes fight a lot to get things to work. And so we have: <a href="https://github.com/DefinitelyTyped/DefinitelyTyped">github.com/DefinitelyTyped/DefinitelyTyped</a>. Not sure if this is beautiful, or frightening.</div><div class="p" id="_5">But in the end, as with other type of static <a href="software#linting">linters</a>, TypeScript generally transforms a few hard to debug runtime issues, into a bunch of stupid to solve compile time issues, which is generally a good thing.</div><div class="p" id="_6">The fact that this it parses comments JSDoc comments in JavaScript files is quite amazing.</div><div class="p" id="_7">Examples under <a href="_dir/typescript">typescript</a>. Run each one of them with:<div class="code" id="_8"><div><pre><code>npx tsc example.ts
node example.js</code></pre></div></div>Helper:<div class="code" id="_9"><div><pre><code>tsr() (
  # ts Run
  f="$1"
  npx tsc "$f"
  node "${f%.*}.js"
)
tsr example.ts</code></pre></div></div><div class="list"><ul id="_10"><li id="_11"><a href="_raw/typescript/inferFromInit.ts">typescript/inferFromInit.ts</a>. Should fail with:<div><blockquote id="_12">hello.ts:2:1 - error TS2322: Type 'string' is not assignable to type 'number</blockquote></div>since TypeScript infers the type of <code>i</code> from first assignment as <code>string</code>, and we then attempt a <code>number</code> assignment later on</li><li id="_13"><a href="_raw/typescript/inferAfterInit.ts">typescript/inferAfterInit.ts</a>. Does not fail, as the first assignment cannot be computationally determined at runtime without breaking computer science.</li><li id="_14"><a href="_raw/typescript/js-from-ts/main.ts">typescript/js-from-ts/main.ts</a>: call <a href="programming-language#javascript">JavaScript</a> file <a href="_raw/typescript/js-from-ts/notmain.js">typescript/js-from-ts/notmain.js</a> from <a href="">TypeScript</a>.<div class="code" id="_15"><div><pre><code>npx tsc jsFromTs.ts &amp;&amp; node jsFromTs.js</code></pre></div></div>TODO we are unable to make it typecheck that require, i.e. make that fail, but we've seen cases in complex codebases where that did happen and <a href="https://www.typescriptlang.org/docs/handbook/intro-to-js-ts.html">www.typescriptlang.org/docs/handbook/intro-to-js-ts.html</a> has infinite information on supporting it. So... how to make it fail??</li><li id="_16"><a href="_raw/typescript/functionArgument.ts">typescript/functionArgument.ts</a>: basic argument tests<div class="list"><ul id="_17"><li id="_18"><a href="_raw/typescript/functionOptionalArgument.ts">typescript/functionOptionalArgument.ts</a>: <code>f(n?: number)</code></li></ul></div></li><li id="_19"><a href="_raw/typescript/functionOptions.ts">typescript/functionOptions.ts</a>: <code>f({n, s}: {n: number, s: string})</code></li></ul></div></div><div class="p" id="_20">Some major annoyances of TypeScript:<div class="list"><ul id="_21"><li id="_22">destructuring assignment in function arguments requires repeating all arguments:<div class="list"><ul id="_23"><li id="_24"><a href="https://stackoverflow.com/questions/42108807/using-named-parameters-javascript-based-on-typescript/71679344#71679344">stackoverflow.com/questions/42108807/using-named-parameters-javascript-based-on-typescript/71679344#71679344</a></li><li id="_25"><a href="https://stackoverflow.com/questions/54513548/destructure-a-function-parameter-in-typescript">stackoverflow.com/questions/54513548/destructure-a-function-parameter-in-typescript</a></li><li id="_26"><a href="https://github.com/Microsoft/TypeScript/issues/29526">github.com/Microsoft/TypeScript/issues/29526</a></li></ul></div></li><li id="_27"><a href="https://stackoverflow.com/questions/12710905/how-do-i-dynamically-assign-properties-to-an-object-in-typescript">stackoverflow.com/questions/12710905/how-do-i-dynamically-assign-properties-to-an-object-in-typescript</a> how to dynamically assign properties to objects without defining explicit interfaces? We really need a syntax of type:<div class="code" id="_28"><div><pre><code>const myobj = {
  i: 2,
  [s string],
}
if (something) {
  myobj.s = 'asdf'
}</code></pre></div></div></li></ul></div></div><h2 id="_ancestors"><a href="#_ancestors"><span class="fa-solid-900 icon"></span> Ancestors <span class="meta">(9)</span></a></h2><div class="list"><ol><li><a href="programming-language#javascript">JavaScript</a></li><li><a href="programming-language#list-of-programming-languages">List of programming languages</a></li><li><a href="programming-language">Programming language</a></li><li><a href="software">Software</a></li><li><a href="computer">Computer</a></li><li><a href="technology#information-technology">Information technology</a></li><li><a href="technology#area-of-technology">Area of technology</a></li><li><a href="technology">Technology</a></li><li><a href="."><span title="Home" class="fa-solid-900 icon"></span> Home</a></li></ol></div><h2 id="_incoming-links"><a href="#_incoming-links"><span title="Incoming links" class="fa-solid-900 icon"></span> Incoming links <span class="meta">(6)</span></a></h2><div class="list"><ul><li><a href="brain#list-of-personal-knowledge-base-software">List of personal knowledge base software</a></li><li><a href="react#next-js">Next.js</a></li><li><a href="react#next-js-example">Next.js example</a></li><li><a href="brain#quartz-personal-knowledge-base">Quartz (personal knowledge base)</a></li><li><a href="">TypeScript</a></li><li><a href="webpack">webpack</a></li></ul></div>
</main>
<footer>
<div>Powered by <a href="https://docs.ourbigbook.com">OurBigBook</a></div>
<div>License: <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a> unless noted</div>
<div><a href="https://github.com/cirosantilli/cirosantilli.github.io/issues">Suggestions and corrections</a></div>
<div><a href="contact">Contact Ciro Santilli</a></div>
<div><a href="_dir">Website source code</a></div>
<div><a href="https://github.com/cirosantilli/cirosantilli.github.io">Website source code on GitHub</a></div>
<div><a href="_file/typescript.bigb">Source code for this page: typescript.bigb</a></div>
<div><a href="https://github.com/cirosantilli/cirosantilli.github.io/blob/f7dac29d5224c15015eee520ccee15a3adb07b98/typescript.bigb">Source code for this page on GitHub</a></div>
<div>Cite with: <a href="https://zenodo.org/badge/latestdoi/16453261">this DOI</a></div>
<div><img src="https://raw.githubusercontent.com/cirosantilli/media/master/ID_photo_of_Ciro_Santilli_taken_in_2013_left_eye_200_100.jpg" loading="lazy" alt="ID photo of Ciro Santilli taken in 2013 right eye"></div>
</footer>
<script>
window.ourbigbook_split_headers = true;
window.ourbigbook_html_x_extension = false;
window.ourbigbook_redirect_prefix = "";
</script>
<script src="_obb/dist/ourbigbook_runtime.js"></script><script>ourbigbook_runtime.ourbigbook_runtime()</script><script src="_raw/main.js"></script>
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-47867706-1', 'auto');
ga('send', 'pageview');
</script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-DEE2HEJW9X"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-DEE2HEJW9X');
</script>
<script src="https://giscus.app/client.js"
        data-repo="cirosantilli/cirosantilli.github.io"
        data-repo-id="MDEwOlJlcG9zaXRvcnkxNjQ1MzI2MQ=="
        data-category="giscus"
        data-category-id="DIC_kwDOAPsOjc4CZ6zZ"
        data-mapping="pathname"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="bottom"
        data-theme="dark_high_contrast"
        data-lang="en"
        crossorigin="anonymous"
        async>
</script>
</body>
</html>
