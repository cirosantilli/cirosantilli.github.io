<!doctype html>
<html lang=en>
<head>
<meta charset=utf-8>
<title>node-js.bigb - Ciro Santilli</title>
<meta property="og:title" content="node-js.bigb - Ciro Santilli">
<meta property="og:type" content="website">
<meta property="og:image" content="https://raw.githubusercontent.com/cirosantilli/media/master/ID_photo_of_Ciro_Santilli_taken_in_2013_square_398.jpg">
<meta property="og:url" content="https://cirosantilli.com/_file/node-js.bigb">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.1/css/all.min.css" integrity="sha512-9my9Mb2+0YO+I4PUCSwUYO7sEK21Y0STBAiFEYoWtd2VzLEZZ4QARDrZ30hdM1GlioHJ8o8cWQiy8IAb1hy/Hg==" crossorigin="anonymous" referrerpolicy="no-referrer">
<link rel="canonical" href="https://ourbigbook.com/cirosantilli/_file/node-js.bigb">
<style>@import "../_obb/dist/ourbigbook.css";

</style>
<link rel="stylesheet" type="text/css" href="../_raw/main.css">
<link rel="shortcut icon" type="image/x-icon" href="https://raw.githubusercontent.com/cirosantilli/media/master/ID_photo_of_Ciro_Santilli_taken_in_2013_square_398.jpg">
</head>
<body>
<header>
<div class="brand-group">
<a href="../" class="brand"><img src="https://raw.githubusercontent.com/cirosantilli/media/master/ID_photo_of_Ciro_Santilli_taken_in_2013_right_eye_200_100.jpg" loading="lazy" alt="ID photo of Ciro Santilli taken in 2013 right eye">Ciro Santilli</a>
<a href="https://ourbigbook.com/cirosantilli"><img src="https://raw.githubusercontent.com/cirosantilli/media/master/ourbigbook-logo-v1.svg" loading="lazy" alt="OurBigBook logo">OurBigBook.com</a>
<a class="font-awesome-container" href="https://stackoverflow.com/users/895245"><i class="fab fa-stack-overflow fa-fw icon"></i></a>
<a class="font-awesome-container" href="https://github.com/cirosantilli"><i class="fab fa-github fa-fw icon"></i></a>
<a class="font-awesome-container" href="https://www.linkedin.com/in/cirosantilli"><i class="fab fa-linkedin fa-fw icon"></i></a>
<a class="font-awesome-container" href="https://www.youtube.com/c/CiroSantilli"><i class="fab fa-youtube fa-fw icon"></i></a>
<a class="font-awesome-container" href="https://twitter.com/cirosantilli"><i class="fab fa-twitter fa-fw icon"></i></a>
<a class="font-awesome-container" href="https://www.zhihu.com/people/cirosantilli/activities"><i class="fab fa-zhihu fa-fw icon"></i></a>
<a class="font-awesome-container" href="https://www.weibo.com/p/1005055601627311"><i class="fab fa-weibo fa-fw icon"></i></a>
<a href="../sponsor"><span class="icon">$£</span>&nbsp;Sponsor</a>
<a href="https://github.com/cirosantilli/china-dictatorship"><span class="icon">中国</span>独裁统治&nbsp;China Dictatorship 新疆改造中心、六四事件、法轮功、郝海东、709大抓捕、2015巴拿马文件 邓家贵、低端人口、西藏骚乱</a>
</div>
</header>
<main class="ourbigbook">
<div class="h top" id="file/node-js.bigb"><div class="notnav"><span class="file" title="This article is about a file." /><h1><a href="">node-js.bigb</a></h1></div><nav class="h-nav h-nav-toplevel"><div class="nav"><a href="https://ourbigbook.com/cirosantilli/_file/node-js.bigb"><img src="../_obb/logo.svg" class="logo" alt=""> OurBigBook.com</a></div><div class="nav file"><b> <a href="../_dir">(root)</a> / <a href="../_raw/node-js.bigb">node-js.bigb</a></b></div></nav></div><div class="p"><b>node-js.bigb</b></div><div class="code"><div><pre><code>= Node.js
{c}
{wiki}

Wellhttps://stackoverflow.com/questions/8775262/synchronous-requests-in-node-js[Sync], if you are gonna usehttps://stackoverflow.com/questions/8775262/synchronous-requests-in-node-jsp[Sync] this &lt;JavaScript&gt;[wonky language] thing inhttps://stackoverflow.com/questions/8775262/synchronous-requests-in-node-js[Sync] one place, you might as well usehttps://stackoverflow.com/questions/8775262/synchronous-requests-in-node-js[Sync] it everywherehttps://stackoverflow.com/questions/8775262/synchronous-requests-in-node-js[Sync] and make it more decent. See also: &lt;how to convert async to sync in JavaScript&gt;.

Their CLI debugger is a bit crap compared to GDB, basic functionality is either lacking or too verbose:
* https://stackoverflow.com/questions/65493221/how-to-break-at-a-specific-function-or-line-with-the-node-js-node-inspect-comman
* https://stackoverflow.com/questions/70486188/how-to-break-on-uncaught-exception-on-the-node-js-node-inspect-command-line-debu Some operations are only possible on the browser debug UI...
Documentation at: https://nodejs.org/dist/latest-v16.x/docs/api/debugger.html

= Node.js example
{parent=Node.js}

Under \a[nodejs]:
* \a[nodejs/infinite_loop.js]
* \a[nodejs/infinite_hello.js]
* \a[nodejs/performance.js]: related: https://stackoverflow.com/questions/77185767/azure-data-factory-updating-node-to-20-in-azure-devops-pipeline-fails-with-th/77718648#77718648

= nodejs/count.js
{file}
{parent=Node.js example}

This example counts to finity, sleeping 1 second between each count. Related:
* https://stackoverflow.com/questions/14249506/how-can-i-wait-in-node-js-javascript-l-need-to-pause-for-a-period-of-time

= nodejs/read_child_process_lines.js
{file}
{parent=Node.js example}

This example reads lines from a child process one by one, as soon as lines become fully available. Related:
* https://stackoverflow.com/questions/9781214/parse-output-of-spawned-node-js-child-process-line-by-line canon
  * https://stackoverflow.com/questions/14332721/node-js-spawn-child-process-and-get-terminal-output-live/77423073#77423073 answered big superset
  * https://stackoverflow.com/questions/12955154/nodejs-read-and-parse-each-line-of-stdout duplicate

= JavaScript memory usage benchmark
{parent=Node.js example}

In this section we will use the file \a[nodejs/bench_mem.js], tests are run on Node.js v16.14.2 from NVM, Ubuntu 21.10, on &lt;ciro santilli s hardware/Lenovo ThinkPad P51 (2017)&gt; which has 32 GB RAM.

Related answer: https://stackoverflow.com/questions/12023359/what-do-the-return-values-of-node-js-process-memoryusage-stand-for/72043884#72043884

First using `topp` from https://stackoverflow.com/questions/1221555/retrieve-cpu-usage-and-memory-usage-of-a-single-process-on-linux/40576129#40576129 let's observe the memory usage of some baseline cases.

A C hello world with an infinite loop at the end has:
* 2.7 MB
* 770 KB

For a Node.js infinite loop \a[nodejs/infinite_loop.js]
``
topp infinite_loop.js
``
This gives approximately:
* RSS: 20 MB
* VSZ: 230 MB

Adding a single hello world to it as in \a[nodejs/infinite_hello.js] and running:
``
topp infinite_hello.js
``
leads to:
* RSS: 26 MB
* VSZ: 580 MB
We understand that Node.js preallocates VSZ wildly. No big deal, but it does mean that VSZ is a useless measure for Node.js.

Forcing garbage collection as in \a[nodejs/infinite_hello.js] brings it down to 20 MB however:
``
topp node --expose-gc infinite_hello_gc.js
``

Finally let's see a baseline for `process.memoryUsage` \a[nodejs/infinite_memoryusage.js]:
``
node --expose-gc infinite_memoryusage.js
``
which gives initially:
``
{
  rss: 23851008,
  heapTotal: 6987776,
  heapUsed: 3674696,
  external: 285296,
  arrayBuffers: 10422
}
``
but after a few seconds randomly jumps to:
``
{
  rss: 26005504,
  heapTotal: 9084928,
  heapUsed: 3761240,
  external: 285296,
  arrayBuffers: 10422
}
``
so we understand that
* `heapUsed` seems constant at 3.7 MB
* `heapTotal` is a very noisy, as it starts at 7 MB, but randomly jumps to 9 MB at one point without apparent reason

Now let's run our main test program.

First a baseline case with an array of length 1:
``
node --expose-gc bench_mem.js n 1
``
This gives the same results as `node --expose-gc infinite_memoryusage.js`. The same result is obtained by doing:
``
a = undefined
``
with:
``
node --expose-gc bench_mem.js dealloc
``

Not let's vary the size of `n` a bit with:
``
node --expose-gc bench_mem.js n N
``
which gives:
|| N
|| `heapUsed`
|| `heapTotal`
|| `rss`
|| `heapUsed` per elem
|| `rss` per elem

| 1 M
| 14 MB
| 48 MB
| 56 MB
| 10
| 30

| 10 M
| 122 MB
| 157 MB
| 176 MB
| 18
| 15

| 100 M
| 906 MB
| 940 MB
| 960 MB
| 9
| 9.3

"`rss` per elem" is calculated as: `rss` - 26 MB, where 26 MB is the baseline RSS seen on `n 1`.

Similarly "`heapUsed` per elem" deduces the 4 MB (approximation of the above 3.7 MB) seen on `n 1`.

Note that to reach https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/MAX_SAFE_INTEGER[MAX_SAFE_INTEGER] we would need 8 bytes per elem worst case.

Everything below 100 million (8) is therefore very memory wasteful in terms of RSS.

If we use `Int32Array` typed array buffers instead of a simple `Array`:
``
node --expose-gc bench_mem.js array-buffer n N
``
we see that the memory is now, unsurprisingly, accounted for under `arrayBuffers`, e.g. for `N` 1 million:
``
{
  rss: 31776768,
  heapTotal: 6463488,
  heapUsed: 3674520,
  external: 4285296,
  arrayBuffers: 4010422
}
``
Results for different N:
``
|| N
|| `arrayBuffers`
|| `rss`
|| `rss` per elem

| 1 M
| 4 MB
| 31 MB
| 5

| 10 M
| 40 MB
| 67 MB
| 4.6

| 100 M
| 40 MB
| 427 MB
| 4
``
We see therefore that typed arrays are much closer to what they advertise (4 bytes per element), even for smaller element counts, as expected.

Now let's try one million objects of type `{ a: 1, b: -1 }`:
``
node --expose-gc bench_mem.js obj
``
gives:
``
{
  rss: 138969088,
  heapTotal: 105246720,
  heapUsed: 70103896,
  external: 285296,
  arrayBuffers: 10422
}
``
Disaster! Memory usage is up to 70 MB! Why?? We were expecting only about 24, 4 baseline + 2 * 10 for each million int?!

And now an equivalent version using `class`:
``
node --expose-gc bench_mem.js class
``
gives the same result.

Let's try Array:
``
node --expose-gc bench_mem.js arr
``
is even worse at 78 MB!! OMG why.
``
{
  rss: 164597760,
  heapTotal: 129363968,
  heapUsed: 78117008,
  external: 285296,
  arrayBuffers: 10422
}
``

Let's change the number of fields on the object? First as a sanity check:
``
node --expose-gc bench_mem.js obj 2
``
produces as expected the smae result as:
``
node --expose-gc bench_mem.js obj
``
so adding properties one by one doesn't change anything from creating the literal all at once. Good.

Now:
``
node --expose-gc bench_mem.js obj N
``
gives `heapUsed`:
* 1: 70M
* 2: 70M
* 3: 70M
* 4: 70M
* 5: 110M
* 6: 110M
* 7: 110M
* 8: 134M
* 9: 134M
* 10: 134M
* 11: 158M

= npm
{c}
{parent=Node.js}
{tag=Package manager}
{wiki}

= package.json
{parent=npm}

= Node.js library
{c}
{parent=Node.js}

= Node.js standard library
{c}
{parent=Node.js library}

= Node.js `worker_threads`
{c}
{parent=Node.js standard library}

= Node.js database bindings
{parent=Node.js library}

* &lt;node.js SQLite bindings&gt;

= Node.js ORM library
{parent=Node.js library}
{tag=Object-relational mapping}

\Include[sequelize]

= Node.js web framework
{c}
{parent=Node.js}
{tag=Web framework}

= Express.js
{c}
{parent=Node.js web framework}

This doesn't do a hole lot. &lt;Ciro Santilli&gt; wouldn't really call it a web framework. It's more like a middleware. Real web frameworks are built on top of it.

Examples under: \a[nodejs/express]:
* \a[nodejs/express/min.js]: minimal example. Visit http://localhost:3000 and it shows `hello world`. It is a bit wrong because the headers say HTML but we return plaintext.
* \a[nodejs/express/index.js]: example dump with automated tests where possible. The automated tests are run at startup after the server launches. Then the server keeps running so you can interact with it.

A live example on &lt;Heroku&gt; can be seen at: https://github.com/cirosantilli/heroku-node-min

= Realworld app written in Express
{c}
{parent=Express.js}

&lt;gothinkster realworld&gt; implementations based on &lt;Express.js&gt;.

= gothinkster/node-express-realworld-example-app
{parent=Realworld app written in Express}

https://github.com/gothinkster/node-express-realworld-example-app

= sigoden/node-express-realworld-example-app
{parent=Realworld app written in Express}

Appears to be a port of &lt;gothinkster node-express-realworld-example-app&gt; to &lt;Sequelize&gt;.

Seemed to just work at 68bbadfd77f679f0df0fcd0de5bceb9c37b1144a Ubuntu 20.10, was forked from parent project in 2018.

= Varun-Hegde/Conduit_NodeJS
{parent=Realworld app written in Express}

Very raw. Easy to understand. Relatively well organiezd. But also very buggy at 3ab8d9f849a1cdf2985a8d123b1893f0fd4e79ab: https://github.com/Varun-Hegde/Conduit_NodeJS/issues/3[], I just can't trust it. There must be several helper libraries that would greatly DRY up the repetitive CRUD. Ciro hates the style :-) 4 space indents, no space after commas, no semicolon. Not based on https://github.com/gothinkster/node-express-realworld-example-app[] which is essentially one of the reference implementations, so from scratch apparently, which is a bad sign.

= FeathersJS
{c}
{parent=Node.js web framework}

* https://feathersjs.com
* https://github.com/feathersjs/feathers
* https://stackoverflow.com/questions/tagged/feathersjs

Looks interesting.

It seems to abstract the part about the client messaging the backend, which focuses on being able to easily plug in a number of &lt;Front-end web framework&gt; to manage client state.

Has the "main web &lt;API&gt; is the same as the REST API" focus, which is fundamental 2020-nowadays.

Uses &lt;Socket.IO&gt;, which allows the client Javascript to register callbacks when data is updated to achieve &lt;Socket.IO&gt;, e.g. their default chat app does:
``
client.service('messages').on('created', addMessage);
``
so that message appear immediately as they are sent.

Their standard template from `feathers generate app` on `@feathersjs/cli@4.5.0` includes:
* several authentication methods, including &lt;OAuth&gt;
* testing
* backend &lt;database&gt; with one of several &lt;object-relational mapping&gt;! However, they don't abstract across them. E.g., the default Chat example uses NeDB, but a real app will likely use &lt;Sequelize&gt;, and a &lt;port (software-portability)&gt; is needed
which looks promising! They don't have a default template for a &lt;Front-end web framework&gt; however unfortunately: https://docs.feathersjs.com/guides/frameworks.html#the-feathers-chat lists a few chat app versions, which is their &lt;hello world&gt;:
* &lt;Front-end web framework&gt;: not built-in on generator, but there are some sample repos pointed from the documentation, and they did work out-of-box:
  * &lt;feathers-chat-react&gt;
But it is in itself a completely boring app with a single splash page, and no database interaction, so not a good showcase. The actual showcase app is &lt;feathersjs feathers-chat&gt;.

And there is no official example of the chat app that is immediately deployable to &lt;Heroku&gt;: &lt;FeathersJS Heroku deployment&gt;, all setups require thinking.

Global source entry point: determine on `package.json` as usual, defaults to `src/index.js`.

= FeatherJS demo apps
{c}
{parent=FeathersJS}

https://github.com/feathersjs/awesome-feathersjs#projects-using-feathers

= feathersjs/feathers-chat
{c}
{parent=FeatherJS demo apps}

https://github.com/feathersjs/feathers-chat

The main &lt;FeathersJS&gt; &lt;hello world&gt; demo. Notable missing things...
* instant &lt;Heroku&gt; deployability: &lt;FeathersJS Heroku deployment&gt;
* no &lt;Front-end web framework&gt; which sucks, but there are basically official demos that worked e.g. &lt;feathers-chat-react&gt;
* &lt;FeathersJS signup email verification&gt;

= feathers-chat PostgreSQL
{c}
{parent=feathersjs feathers-chat}

The default feathers-chat app runs on NeDB (local filesystem &lt;JSON&gt; database).

&lt;Ciro Santilli&gt; managed to port it to &lt;Sequelize&gt; for &lt;PostgreSQL&gt; as shown at: https://github.com/cirosantilli/feathers-chat/tree/sequelize-pg

= feathers-chat-react
{c}
{parent=feathersjs feathers-chat}

https://github.com/feathersjs-ecosystem/feathers-chat-react

Last updated 2018 as of 2021, but still just worked.

Also uses &lt;webpack&gt; which is fantastic.

Gotta run https://github.com/feathersjs/feathers-chat[] first: https://github.com/feathersjs-ecosystem/feathers-chat-react/issues/5[], then it worked:
``
git clone https://github.com/feathersjs/feathers-chat
cd feathers-chat
git checkout fd729a47c57f9e6170cc1fa23cee0c84a004feb5
npm install
npm start
``
and on the other terminal:
``
git clone https://github.com/feathersjs-ecosystem/feathers-chat-react
cd feathers-chat-react
git checkout 36d56cbe80bbd5596f6a108b1de9db343b33dac3
npm install
npm start
``
then visit http://localhost:3000/ and you can create an account and login, tested on Ubuntu 20.10. Data is stored on persistently.

TODO how to merge those two repos into a single repo.

If you &lt;disable JavaScript on Chromium&gt;, it stops working completely. There is a section on how to solve that at: https://docs.feathersjs.com/cookbook/express/view-engine.html[] but it does not cover React specifically. &lt;Codaisseur feathersjs-react-redux-ssr&gt; might be good to look into.

= Codaisseur/feathersjs-react-redux-ssr
{c}
{parent=FeatherJS demo apps}

https://github.com/Codaisseur/feathersjs-react-redux-ssr

Also &lt;webpack&gt; and &lt;Babel (transcompiler)&gt;, looks promising!

As of 2021, last commit from 2017.

Running:
``
git clone https://github.com/Codaisseur/feathersjs-react-redux-ssr
cd feathersjs-react-redux-ssr
npm install
``
failed on Ubuntu 20.10 &lt;Node.js&gt; v14.15.3 with:
``
../src/create_string.cpp:17:37: error: no matching function for call to ‘v8::String::Utf8Value::Utf8Value(v8::Local&lt;v8::Value&gt;&amp;)’
   17 |   v8::String::Utf8Value string(value);
      |                                     ^
``
Likely similar &lt;bullshit&gt; from: https://stackoverflow.com/questions/50111688/node-sqlite-node-gyp-build-error-no-member-named-forceset-in-v8object because the Node.js version is too new.

If I try `nvm install v10`

I &lt;Google&gt; error messages until reaching:
``
diff --git a/gulpfile.js b/gulpfile.js
index b931e06..24d2cc8 100644
--- a/gulpfile.js
+++ b/gulpfile.js
@@ -14,34 +14,34 @@ gulp.task('css', function() {
            .pipe(gulp.dest('./dist'))
 })
 
-gulp.task('css:watch', ['css'], function() {
+gulp.task('css:watch', gulp.series('css', function() {
   gulp.watch('app/styles/**/*.sass', ['css'])
-})
+}))
 
 gulp.task('moveAssets', function() {
   return gulp.src('./app/assets/**/*')
              .pipe(gulp.dest('./dist/assets'))
 })
 
-gulp.task('build:revAssets', ['css', 'moveAssets'], function() {
+gulp.task('build:revAssets', gulp.series('css', 'moveAssets', function() {
   var rev = new $.revAll()
   return gulp.src('./dist/**/*')
              .pipe(rev.revision())
              .pipe(gulp.dest('./dist/public'))
              .pipe(rev.manifestFile())
              .pipe(gulp.dest('./dist'))
-})
+}))
 
 gulp.task('build:cpServer', function() {
   return gulp.src('./app/**/*.{js,ejs}')
              .pipe(gulp.dest('./dist/server-build'))
 })
-gulp.task('build:revServer', ['build:cpServer'], function() {
+gulp.task('build:revServer', gulp.series('build:cpServer', function() {
   var manifest = gulp.src('./dist/rev-manifest.json')
   return gulp.src('./dist/server-build/{components,containers}/**/*')
              .pipe($.revReplace({ manifest: manifest }))
              .pipe(gulp.dest('./dist/server-build'))
-})
+}))
 
 gulp.task('build', function() {
   runSequence('build:revAssets', 'build:revServer')
diff --git a/package.json b/package.json
index bcb29c3..86bd593 100644
--- a/package.json
+++ b/package.json
@@ -67,7 +67,7 @@
     "redux-thunk": "^0.1.0",
     "request": "^2.79.0",
     "rewire": "^2.3.4",
-    "run-sequence": "^1.2.2",
+    "run-sequence": "^2.2.1",
     "serve-favicon": "^2.3.2",
     "socket.io-client": "^1.7.2",
     "superagent": "^1.4.0",
@@ -86,16 +86,16 @@
     "concurrently": "^2.0.0",
     "cross-env": "^1.0.7",
     "enzyme": "^2.3.0",
-    "gulp": "^3.9.0",
+    "gulp": "^4.0.2",
     "gulp-autoprefixer": "^3.1.0",
     "gulp-load-plugins": "^1.2.0",
     "gulp-rev": "^6.0.1",
-    "gulp-sass": "^2.1.1",
+    "gulp-sass": "4.1.0",
     "gulp-sourcemaps": "^1.6.0",
     "jsdom": "^7.0.1",
     "mocha": "^2.4.5",
     "nock": "^2.17.0",
-    "node-sass": "^3.4.2",
+    "node-sass": "^5.0.0",
     "nodemon": "^1.6.0",
     "react-addons-test-utils": "^15.3.2",
     "react-transform-catch-errors": "^1.0.0",
``
and the next problem is: https://stackoverflow.com/questions/48513573/gulp-error-gulp-hastask-is-not-a-function

= randyscotsmithey/feathers-realworld-example-app
{parent=FeatherJS demo apps}
{tag=gothinkster realworld implementation}

&lt;FeathersJS&gt; entry for &lt;gothinkster realworld&gt;.

&lt;MongoDB&gt;-based.

So once you install MongoDB, run with:
``
MONGODB_FEATHERS_REALWORLD=mongodb://localhost:27017/mydb npm start
``

Got it working on &lt;Ubuntu&gt; 20.10 with both &lt;React&gt; and &lt;Vue.js&gt; front-ends at https://github.com/randyscotsmithey/feathers-realworld-example-app/commit/8bc3a09242285de624c75bb8345630df499a7d07[] as mentioned at https://github.com/randyscotsmithey/feathers-realworld-example-app/issues/2 except for bad error reporting on UI.

Tests can be run with:
``
MONGODB_FEATHERS_REALWORLD=mongodb://localhost:27017/mydb npm run test
``
but there were 10 failures and 55 passes: https://github.com/randyscotsmithey/feathers-realworld-example-app/issues/3

= FeathersJS Heroku deployment
{c}
{parent=FeathersJS}

Got it working as mentioned at: https://github.com/cirosantilli/feathers-chat/tree/sequelize-pg

One major step was to &lt;port (software-portability)&gt; to &lt;PostgreSQL&gt; as shown at &lt;feathers-chat PostgreSQL&gt;.

Bibliography:
* https://stackoverflow.com/questions/47270219/deploy-feathersjs-app-on-heroku/66723974#66723974
* https://github.com/feathersjs/feathers/issues/1647
* https://medium.com/@mattchewone/feathersjs-deployment-gitlab-ci-cd-heroku-4ea9e34ab129

There's also a `heroku` branch at: https://github.com/feathersjs/feathers-chat/tree/heroku[], but it also seems to use NeDB? So you can have a filesystem in Heroku? Doesn't seem so: https://stackoverflow.com/questions/42775418/heroku-local-persistent-storage

= FeathersJS signup email verification
{c}
{parent=FeathersJS}

* https://github.com/feathersjs/feathers/issues/1514
* https://blog.feathersjs.com/how-to-setup-email-verification-in-feathersjs-72ce9882e744

= Meteor
{disambiguate=web framework}
{c}
{parent=Node.js web framework}

https://github.com/meteor/meteor

The idea is cool. It really unifies front-and back end.

But &lt;Ciro Santilli&gt; feels the approach proposed by &lt;FeathersJS&gt; of being a glue between bigger third-party &lt;Front-end web frameworks&gt; like &lt;React&gt; and backend (&lt;object-relational mapping&gt;) is more promising and flexible.

= Nest.js
{c}
{parent=Node.js web framework}

* https://github.com/lujakob/nestjs-realworld-example-app
* &lt;object-relational mapping&gt;: https://docs.nestjs.com/techniques/database
* &lt;Front-end web framework&gt;: looks weak:
  * https://github.com/yemiwebby/nest-react-project

= lujakob/nestjs-realworld-example-app
{c}
{parent=Nest.js}

&lt;Nest.js&gt; entry for &lt;gothinkster realworld&gt;.

Didn't manage to get it to work perfectly on &lt;Ubuntu&gt; 20.10: https://github.com/lujakob/nestjs-realworld-example-app/issues/57

= lujakob/nestjs-realworld-example-app SQLite port
{parent=lujakob nestjs-realworld-example-app}

Tried a quick port to &lt;SQLite&gt; to get rid of annoying local databases for development, but failed, at c1c2cc4e448b279ff083272df1ac50d20c3304fa
``
npm install sqlite3 --save-dev
``
and
``
{
  "type": "sqlite",
  "database": "db.sqlite3",
  "entities": ["src/**/**.entity{.ts,.js}"],
  "synchronize": true
}
``
then:
``
npm start
``
fails with:
``
DataTypeNotSupportedError: Data type "timestamp" in "ArticleEntity.created" is not supported by "sqlite" database.
``
Attempt to hack it:
``
--- a/src/article/article.entity.ts
+++ b/src/article/article.entity.ts
@@ -20,10 +20,10 @@ export class ArticleEntity {
   @Column({default: ''})
   body: string;

-  @Column({ type: 'timestamp', default: () =&gt; "CURRENT_TIMESTAMP"})
+  @Column({ default: () =&gt; "CURRENT_TIMESTAMP"})
   created: Date;

-  @Column({ type: 'timestamp', default: () =&gt; "CURRENT_TIMESTAMP"})
+  @Column({ default: () =&gt; "CURRENT_TIMESTAMP"})
   updated: Date;
``
and after that it seems to run.

I can signup and login, terrible error reporting as usual, make sure to use long enough usernames/passwords.

However, article creation fails with:
``
Unhandled Rejection (TypeError): Cannot read property 'slug' of undefined
``

= Sails.js
{c}
{parent=Node.js web framework}

https://github.com/balderdashy/sails

&lt;Front-end web framework&gt; integration: no native one:
* &lt;React&gt;:
  * https://github.com/markmur/sails-react-webpack
  * https://github.com/sepineda/sails-react-webpack Last updated as of 2021: 2018
  * https://stackoverflow.com/questions/28331032/sails-js-with-react-js-how-to-do-it-correctly
* &lt;Vue.js&gt;:
  * https://github.com/mikermcneil/ration Issue tracker disabled...
    * live at: https://ration.io/
    * selling a course at: https://courses.platzi.com/courses/sails-js/
  * https://platzi.com/cursos/javascript-pro/ non-free and in Spanish pointed to from official README...
  * &lt;Nuxt.js&gt;:
    * https://github.com/AngelMunoz/sails-nuxt

TODO &lt;server-side rendering&gt; anyone??
* https://stackoverflow.com/questions/32412590/how-to-use-react-js-to-render-server-side-template-on-sails-js
* https://stackoverflow.com/questions/54217147/ssr-for-react-redux-application-with-sails
* https://gist.github.com/duffpod/746a660bcddfd986878c92dde1a04f06
* https://www.reddit.com/r/reactjs/comments/7saoqm/sailsjs_or_adonisjs_designed_for_server_side/

= NVM
{c}
{parent=Node.js}

https://github.com/nvm-sh/nvm

The best way to install Node.js:
* https://stackoverflow.com/questions/16898001/how-to-install-a-specific-version-of-node-on-ubuntu-debian/47376491
* https://askubuntu.com/questions/49390/how-do-i-install-the-latest-version-of-node-js/425888#425888
* https://askubuntu.com/questions/594656/how-to-install-the-latest-versions-of-nodejs-and-npm/971612#971612
* https://askubuntu.com/questions/426750/how-can-i-update-my-nodejs-to-the-latest-version/1115255#1115255
</code></pre></div></div>
</main>
<footer>
<div>Powered by <a href="https://docs.ourbigbook.com">OurBigBook</a></div>
<div>License: <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a> unless noted</div>
<div><a href="https://github.com/cirosantilli/cirosantilli.github.io/issues">Suggestions and corrections</a></div>
<div><a href="../contact">Contact Ciro Santilli</a></div>
<div><a href="../_dir">Website source code</a></div>
<div><a href="https://github.com/cirosantilli/cirosantilli.github.io">Website source code on GitHub</a></div>
<div>Cite with: <a href="https://zenodo.org/badge/latestdoi/16453261">this DOI</a></div>
<div><img src="https://raw.githubusercontent.com/cirosantilli/media/master/ID_photo_of_Ciro_Santilli_taken_in_2013_left_eye_200_100.jpg" loading="lazy" alt="ID photo of Ciro Santilli taken in 2013 right eye"></div>
</footer>
<script>
window.ourbigbook_split_headers = false;
window.ourbigbook_html_x_extension = false;
window.ourbigbook_redirect_prefix = "";
</script>
<script src="../_obb/dist/ourbigbook_runtime.js"></script><script>ourbigbook_runtime.ourbigbook_runtime()</script><script src="../_raw/main.js"></script>
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-47867706-1', 'auto');
ga('send', 'pageview');
</script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-DEE2HEJW9X"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-DEE2HEJW9X');
</script>
<script src="https://giscus.app/client.js"
        data-repo="cirosantilli/cirosantilli.github.io"
        data-repo-id="MDEwOlJlcG9zaXRvcnkxNjQ1MzI2MQ=="
        data-category="giscus"
        data-category-id="DIC_kwDOAPsOjc4CZ6zZ"
        data-mapping="pathname"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="bottom"
        data-theme="dark_high_contrast"
        data-lang="en"
        crossorigin="anonymous"
        async>
</script>
</body>
</html>
