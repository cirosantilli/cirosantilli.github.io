<!doctype html>
<html lang=en>
<head>
<meta charset=utf-8>
<title>ELF Hello World Tutorial / Global file structure - Ciro Santilli</title>
<meta property="og:title" content="ELF Hello World Tutorial / Global file structure - Ciro Santilli">
<meta property="og:type" content="website">
<meta property="og:image" content="https://upload.wikimedia.org/wikipedia/commons/thumb/e/e4/ELF_Executable_and_Linkable_Format_diagram_by_Ange_Albertini.png/1280px-ELF_Executable_and_Linkable_Format_diagram_by_Ange_Albertini.png">
<meta property="og:url" content="https://cirosantilli.com/elf-hello-world/global-file-structure">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.1/css/all.min.css" integrity="sha512-9my9Mb2+0YO+I4PUCSwUYO7sEK21Y0STBAiFEYoWtd2VzLEZZ4QARDrZ30hdM1GlioHJ8o8cWQiy8IAb1hy/Hg==" crossorigin="anonymous" referrerpolicy="no-referrer">
<link rel="canonical" href="https://ourbigbook.com/cirosantilli/elf-hello-world/global-file-structure">
<style>@import "../_obb/dist/ourbigbook.css";

</style>
<link rel="stylesheet" type="text/css" href="../_raw/main.css">
<link rel="shortcut icon" type="image/x-icon" href="https://raw.githubusercontent.com/cirosantilli/media/master/ID_photo_of_Ciro_Santilli_taken_in_2013_square_398.jpg">
</head>
<body>
<header>
<div class="brand-group">
<a href="../" class="brand"><img src="https://raw.githubusercontent.com/cirosantilli/media/master/ID_photo_of_Ciro_Santilli_taken_in_2013_right_eye_200_100.jpg" loading="lazy" alt="ID photo of Ciro Santilli taken in 2013 right eye">Ciro Santilli</a>
<a href="https://ourbigbook.com/cirosantilli"><img src="https://raw.githubusercontent.com/cirosantilli/media/master/ourbigbook-logo-v1.svg" loading="lazy" alt="OurBigBook logo">OurBigBook.com</a>
<a class="font-awesome-container" href="https://stackoverflow.com/users/895245"><i class="fab fa-stack-overflow fa-fw icon"></i></a>
<a class="font-awesome-container" href="https://github.com/cirosantilli"><i class="fab fa-github fa-fw icon"></i></a>
<a class="font-awesome-container" href="https://www.linkedin.com/in/cirosantilli"><i class="fab fa-linkedin fa-fw icon"></i></a>
<a class="font-awesome-container" href="https://www.youtube.com/c/CiroSantilli"><i class="fab fa-youtube fa-fw icon"></i></a>
<a class="font-awesome-container" href="https://twitter.com/cirosantilli"><i class="fab fa-twitter fa-fw icon"></i></a>
<a class="font-awesome-container" href="https://www.zhihu.com/people/cirosantilli/activities"><i class="fab fa-zhihu fa-fw icon"></i></a>
<a class="font-awesome-container" href="https://www.weibo.com/p/1005055601627311"><i class="fab fa-weibo fa-fw icon"></i></a>
<a href="../sponsor"><span class="icon">$£</span>&nbsp;Sponsor</a>
<a href="https://github.com/cirosantilli/china-dictatorship"><span class="icon">中国</span>独裁统治&nbsp;China Dictatorship 新疆改造中心、六四事件、法轮功、郝海东、709大抓捕、2015巴拿马文件 邓家贵、低端人口、西藏骚乱</a>
</div>
</header>
<main class="ourbigbook">
<div class="h top" id="global-file-structure"><div class="notnav"><h1><a href="../elf-hello-world">ELF Hello World Tutorial</a><span class="meta"> / </span><a href="">Global file structure</a></h1></div><nav class="h-nav h-nav-toplevel"><div class="nav ancestors"><a  href="#_ancestors">&nbsp;...</a><a href="../computer"> Computer</a><a href="../software"> Software</a><a href="../systems-programming"> Systems programming</a><a href="../systems-programming#executable-file-format"> Executable file format</a><a href="../systems-programming#executable-and-linkable-format"> Executable and Linkable Format</a><a href="../elf-hello-world"> ELF Hello World Tutorial</a></div><div class="nav"><a href="https://ourbigbook.com/cirosantilli/elf-hello-world/global-file-structure"><img src="../_obb/logo.svg" class="logo" alt=""> OurBigBook.com</a><a class="nosplit" href="../elf-hello-world#global-file-structure"></a><span class="metrics"><span class="wcntr"> Words: 328</span></span></div></nav></div><div class="p" id="_95">An ELF file contains the following parts:<div class="list"><ul id="_96"><li id="_97">ELF header. Points to the position of the section header table and the program header table.</li><li id="_98">Section header table (optional on executable). Each has <code>e_shnum</code> section headers, each pointing to the position of a section.</li><li id="_99">N sections, with <code>N &lt;= e_shnum</code> (optional on executable)</li><li id="_100">Program header table (only on executable). Each has <code>e_phnum</code> program headers, each pointing to the position of a segment.</li><li id="_101">N segments, with <code>N &lt;= e_phnum</code> (only on executable)</li></ul></div></div><div class="p" id="_102">The order of those parts is <i>not</i> fixed: the only fixed thing is the ELF header that must be the first thing on the file: Generic docs say:<div><blockquote id="_103">Although the figure shows the program header table immediately after the ELF header, and the section header table following the sections, actual files may differ. Moreover, sections and segments have no specified order. Only the ELF header has a fixed position in the file.</blockquote></div></div><div class="p" id="_104">In pictures: sample object file with three sections:<div class="code" id="_105"><div><pre><code>            +-------------------+
            | ELF header        |---+
+---------&gt; +-------------------+   | e_shoff
|           |                   |&lt;--+
| Section   | Section header 0  |
|           |                   |---+ sh_offset
| Header    +-------------------+   |
|           | Section header 1  |---|--+ sh_offset
| Table     +-------------------+   |  |
|           | Section header 2  |---|--|--+
+---------&gt; +-------------------+   |  |  |
            | Section 0         |&lt;--+  |  |
            +-------------------+      |  | sh_offset
            | Section 1         |&lt;-----+  |
            +-------------------+         |
            | Section 2         |&lt;--------+
            +-------------------+</code></pre></div></div></div><div class="p" id="_106">But nothing (except sanity) prevents the following topology:<div class="code" id="_107"><div><pre><code>            +-------------------+
            | ELF header        |---+ e_shoff
            +-------------------+   |
            | Section 1         |&lt;--|--+
+---------&gt; +-------------------+   |  |
|           |                   |&lt;--+  | sh_offset
| Section   | Section header 0  |      |
|           |                   |------|---------+
| Header    +-------------------+      |         |
|           | Section header 1  |------+         |
| Table     +-------------------+                |
|           | Section header 2  |---+            | sh_offset
+---------&gt; +-------------------+   | sh_offset  |
            | Section 2         |&lt;--+            |
            +-------------------+                |
            | Section 0         |&lt;---------------+
            +-------------------+</code></pre></div></div></div><div class="p" id="_108">But some newbies may prefer PNGs :-)</div><div class="figure"><figure id="image-elf-executable-and-linkable-format-diagram-by-ange-albertini"><div class="float-wrap"><a href="https://upload.wikimedia.org/wikipedia/commons/thumb/e/e4/ELF_Executable_and_Linkable_Format_diagram_by_Ange_Albertini.png/1280px-ELF_Executable_and_Linkable_Format_diagram_by_Ange_Albertini.png"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/e4/ELF_Executable_and_Linkable_Format_diagram_by_Ange_Albertini.png/1280px-ELF_Executable_and_Linkable_Format_diagram_by_Ange_Albertini.png" loading="lazy" height="900"></a></div><figcaption><a href="#image-elf-executable-and-linkable-format-diagram-by-ange-albertini"><span class="caption-prefix">Figure 1. </span></a><div class="title">ELF Executable and Linkable Format diagram by Ange Albertini</div>. <a href="https://github.com/corkami/pics/blob/28cb0226093ed57b348723bc473cea0162dad366/binary/elf101/elf101.pdf">Source</a>. </figcaption></figure></div><h2 id="_ancestors"><a href="#_ancestors"><span class="fa-solid-900 icon"></span> Ancestors <span class="meta">(10)</span></a></h2><div class="list"><ol><li><a href="../elf-hello-world">ELF Hello World Tutorial</a></li><li><a href="../systems-programming#executable-and-linkable-format">Executable and Linkable Format</a></li><li><a href="../systems-programming#executable-file-format">Executable file format</a></li><li><a href="../systems-programming">Systems programming</a></li><li><a href="../software">Software</a></li><li><a href="../computer">Computer</a></li><li><a href="../technology#information-technology">Information technology</a></li><li><a href="../technology#area-of-technology">Area of technology</a></li><li><a href="../technology">Technology</a></li><li><a href=".."><span title="Home" class="fa-solid-900 icon"></span> Home</a></li></ol></div>
</main>
<footer>
<div>Powered by <a href="https://docs.ourbigbook.com">OurBigBook</a></div>
<div>License: <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a> unless noted</div>
<div><a href="https://github.com/cirosantilli/cirosantilli.github.io/issues">Suggestions and corrections</a></div>
<div><a href="../contact">Contact Ciro Santilli</a></div>
<div><a href="../_dir">Website source code</a></div>
<div><a href="https://github.com/cirosantilli/cirosantilli.github.io">Website source code on GitHub</a></div>
<div><a href="../_file/elf-hello-world.bigb">Source code for this page: elf-hello-world.bigb</a></div>
<div><a href="https://github.com/cirosantilli/cirosantilli.github.io/blob/a4d833d32a963800b7b90b69207f6802c6bb72d2/elf-hello-world.bigb">Source code for this page on GitHub</a></div>
<div>Cite with: <a href="https://zenodo.org/badge/latestdoi/16453261">this DOI</a></div>
<div><img src="https://raw.githubusercontent.com/cirosantilli/media/master/ID_photo_of_Ciro_Santilli_taken_in_2013_left_eye_200_100.jpg" loading="lazy" alt="ID photo of Ciro Santilli taken in 2013 right eye"></div>
</footer>
<script>
window.ourbigbook_split_headers = true;
window.ourbigbook_html_x_extension = false;
window.ourbigbook_redirect_prefix = "elf-hello-world/";
</script>
<script src="../_obb/dist/ourbigbook_runtime.js"></script><script>ourbigbook_runtime.ourbigbook_runtime()</script><script src="../_raw/main.js"></script>
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-47867706-1', 'auto');
ga('send', 'pageview');
</script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-DEE2HEJW9X"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-DEE2HEJW9X');
</script>
<script src="https://giscus.app/client.js"
        data-repo="cirosantilli/cirosantilli.github.io"
        data-repo-id="MDEwOlJlcG9zaXRvcnkxNjQ1MzI2MQ=="
        data-category="giscus"
        data-category-id="DIC_kwDOAPsOjc4CZ6zZ"
        data-mapping="pathname"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="bottom"
        data-theme="dark_high_contrast"
        data-lang="en"
        crossorigin="anonymous"
        async>
</script>
</body>
</html>
