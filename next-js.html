<!doctype html>
<html lang=en>
<head>
<meta charset=utf-8>
<title>Next.js - Ciro Santilli</title>
<meta property="og:title" content="Next.js - Ciro Santilli">
<meta property="og:type" content="website">
<meta property="og:image" content="https://raw.githubusercontent.com/cirosantilli/media/master/ID_photo_of_Ciro_Santilli_taken_in_2013_square_398.jpg">
<meta property="og:url" content="https://cirosantilli.com/next-js">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.1/css/all.min.css" integrity="sha512-9my9Mb2+0YO+I4PUCSwUYO7sEK21Y0STBAiFEYoWtd2VzLEZZ4QARDrZ30hdM1GlioHJ8o8cWQiy8IAb1hy/Hg==" crossorigin="anonymous" referrerpolicy="no-referrer">
<link rel="canonical" href="https://ourbigbook.com/cirosantilli/next-js">
<style>@import "_obb/dist/ourbigbook.css";

</style>
<link rel="stylesheet" type="text/css" href="_raw/main.css">
<link rel="shortcut icon" type="image/x-icon" href="https://raw.githubusercontent.com/cirosantilli/media/master/ID_photo_of_Ciro_Santilli_taken_in_2013_square_398.jpg">
</head>
<body>
<header>
<div class="brand-group">
<a href="." class="brand"><img src="https://raw.githubusercontent.com/cirosantilli/media/master/ID_photo_of_Ciro_Santilli_taken_in_2013_right_eye_200_100.jpg" loading="lazy" alt="ID photo of Ciro Santilli taken in 2013 right eye">Ciro Santilli</a>
<a href="https://ourbigbook.com/cirosantilli"><img src="https://raw.githubusercontent.com/cirosantilli/media/master/ourbigbook-logo-v1.svg" loading="lazy" alt="OurBigBook logo">OurBigBook.com</a>
<a class="font-awesome-container" href="https://stackoverflow.com/users/895245"><i class="fab fa-stack-overflow fa-fw icon"></i></a>
<a class="font-awesome-container" href="https://github.com/cirosantilli"><i class="fab fa-github fa-fw icon"></i></a>
<a class="font-awesome-container" href="https://www.linkedin.com/in/cirosantilli"><i class="fab fa-linkedin fa-fw icon"></i></a>
<a class="font-awesome-container" href="https://www.youtube.com/c/CiroSantilli"><i class="fab fa-youtube fa-fw icon"></i></a>
<a class="font-awesome-container" href="https://twitter.com/cirosantilli"><i class="fab fa-twitter fa-fw icon"></i></a>
<a class="font-awesome-container" href="https://www.zhihu.com/people/cirosantilli/activities"><i class="fab fa-zhihu fa-fw icon"></i></a>
<a class="font-awesome-container" href="https://www.weibo.com/p/1005055601627311"><i class="fab fa-weibo fa-fw icon"></i></a>
<a href="sponsor"><span class="icon">$¬£</span>&nbsp;Sponsor</a>
<a href="https://github.com/cirosantilli/china-dictatorship"><span class="icon">‰∏≠ÂõΩ</span>Áã¨Ë£ÅÁªüÊ≤ª&nbsp;China Dictatorship Êñ∞ÁñÜÊîπÈÄ†‰∏≠ÂøÉ„ÄÅÂÖ≠Âõõ‰∫ã‰ª∂„ÄÅÊ≥ïËΩÆÂäü„ÄÅÈÉùÊµ∑‰∏ú„ÄÅ709Â§ßÊäìÊçï„ÄÅ2015Â∑¥ÊãøÈ©¨Êñá‰ª∂ ÈÇìÂÆ∂Ë¥µ„ÄÅ‰ΩéÁ´Ø‰∫∫Âè£„ÄÅË•øËóèÈ™ö‰π±</a>
</div>
</header>
<main class="ourbigbook">
<div class="h top" id="next-js"><div class="notnav"><h1><a href="">Next.js</a></h1></div><nav class="h-nav h-nav-toplevel"><div class="nav ancestors"><a  href="#_ancestors">&nbsp;...</a><a href="software"> Software</a><a href="web-technology"> Web technology</a><a href="web-technology#web-framework"> Web framework</a><a href="web-technology#front-end-web-framework"> Front-end web framework</a><a href="web-technology#list-of-front-end-web-frameworks"> List of front-end web frameworks</a><a href="react"> React</a></div><div class="nav"><a href="#_toc" class="toc"></a><a href="https://en.wikipedia.org/wiki/Next.js" class="wiki"></a><a href="https://ourbigbook.com/cirosantilli/next-js"><img src="_obb/logo.svg" class="logo" alt=""> OurBigBook.com</a><a class="nosplit" href="react#next-js"></a><span class="metrics"><span class="wcntr"> Words: 867</span><span class="dcnt"> Articles: 5</span></span></div></nav></div><div class="p" id="_80">Framework built on top of <a href="react">React</a>.</div><div class="p" id="_81">Officially recommended by <a href="react">React</a><a href="https://reactjs.org/docs/create-a-new-react-app.html"><sup class="ref">[ref]</sup></a>:<div><blockquote id="_82"><div class="p" id="_83">Recommended Toolchains</div><div class="p" id="_84">If you‚Äôre building a server-rendered website with Node.js, try Next.js.</div></blockquote></div></div><div class="p" id="_85"><a href="web-technology#gothinkster-realworld">gothinkster/realworld</a> blog example by <a href="ciro-santilli">Ciro Santilli</a>: <a href="react#node-express-sequelize-next-js-realworld-example-app">node Express Sequelize Next.js realworld example app</a>.</div><div class="p" id="_86">Basically what this does is to get <a href="web-technology#server-side-rendering">server-side rendering</a> just working by <a href="react">React</a>, including hydration, which is a good thing.</div><div class="p" id="_87">Next.js sends the first pre-rendered HTML page along with the JavaScript code. Then, JavaScript page switches just load the API data.</div><div class="p" id="_88">Next.js does this nicely by forcing you to provide page data in a serialized JSON format, even when rendering server-side (e.g. the return value of <code>getServerSideProps</code>). This way, it is also able to provide either the full HTML, or just the JSON.</div><div class="p" id="_89">Some general downsides:<div class="list"><ul id="_90"><li id="_91">it does feel like they don't document deployment very well however, especially non-Vercel options, which is the company behind Next.js. I'm unable to find how to use a non Vercel CDN with ISR supposing that is possible.</li><li id="_92">Next.js is very opinionated, and like any opinionated library it is sometimes hard to know why something is/isn't happening, and sometimes it is hard/impossible to do what you want with it unless they add support. They have done good progress, but even as of 2022, some aspects just feel so immature, some major-looking use cases are not very well done.</li></ul></div></div><div class="p" id="_93">In theory, Next.js could be the "ultimate frontend framework". It does have a lot of development difficulties that need to be ironed out, but the general concepts, and things it tries to integrate, including e.g. <a href="webpack">webpack</a>, <a href="typescript">TypeScript</a>, etc. are good. Maybe the question is when will someone put it together with an amazing backend library and dominate and finally put an end to the infinite number of Js Frameworks!</div><div class="p" id="_94">In-tree examples at: <a href="https://github.com/vercel/next.js/tree/canary/examples">github.com/vercel/next.js/tree/canary/examples</a></div><div class="p" id="_95"><code>canary</code> is their <code>master</code>: <a href="https://github.com/vercel/next.js/issues/3211">github.com/vercel/next.js/issues/3211</a></div><div class="p" id="_96">In order to offer its amazing features, Next.js is also extremely opinionated, which means that if something wasn't designed to be possible, it basically isn't.</div><div class="p" id="_97">No prerender with custom <a href="computer#server-computing">server</a>? It forces you to write your API with next as well? Or does it mean something else?<div class="list"><ul id="_98"><li id="_99"><a href="https://github.com/vercel/next.js/discussions/25394">github.com/vercel/next.js/discussions/25394</a></li><li id="_100"><a href="https://nextjs.org/docs/advanced-features/custom-server">nextjs.org/docs/advanced-features/custom-server</a></li></ul></div></div><div class="p" id="_101">TODO can it statically generate pages that are created at runtime? E.g. if I create a new blog post, will it automatically upload a static page? It seems that yes, and that this is exactly what Incremental Static Regeneration means:<div class="list"><ul id="_102"><li id="_103"><a href="https://github.com/vercel/next.js/discussions/25410">github.com/vercel/next.js/discussions/25410</a></li><li id="_104"><a href="https://vercel.com/docs/next.js/incremental-static-regeneration">vercel.com/docs/next.js/incremental-static-regeneration</a></li><li id="_105"><a href="https://github.com/vercel/next.js/discussions/17711">github.com/vercel/next.js/discussions/17711</a></li><li id="_106"><a href="https://www.reddit.com/r/nextjs/comments/mvvhym/a_complete_guide_to_incremental_static/">www.reddit.com/r/nextjs/comments/mvvhym/a_complete_guide_to_incremental_static/</a></li><li id="_107"><a href="https://github.com/vercel/next.js/discussions/11552#discussioncomment-115595">github.com/vercel/next.js/discussions/11552#discussioncomment-115595</a></li><li id="_108"><a href="https://stackoverflow.com/questions/62105756/how-to-use-aws-with-next-js">stackoverflow.com/questions/62105756/how-to-use-aws-with-next-js</a></li><li id="_109"><a href="https://github.com/vercel/next.js/discussions/17080">github.com/vercel/next.js/discussions/17080</a></li><li id="_110"><a href="https://github.com/vercel/next.js/discussions/16852">github.com/vercel/next.js/discussions/16852</a></li></ul></div>However, Ciro can't find any mention of how to specify where the pages are uploaded to... this is pat of the non-Vercel deployment problem.</div><div class="p" id="_111">Can't ISR prerenter by URL query parameters:<div class="list"><ul id="_112"><li id="_113"><a href="https://stackoverflow.com/questions/66133814/how-to-get-url-query-string-on-next-js-static-site-generation">stackoverflow.com/questions/66133814/how-to-get-url-query-string-on-next-js-static-site-generation</a></li><li id="_114"><a href="https://github.com/vercel/next.js/discussions/17269">github.com/vercel/next.js/discussions/17269</a></li></ul></div>That plus the requirement to have one page per file under <code>pages/</code> leads to a lot of useless duplication, because then you are forced to place the URL parameters on the pathnames.</div><div class="p" id="_115">"Module not found: Can't resolve 'fs'" <a href="religion#hell">Hell</a>. The main reason this happens seems to be the that in a higher order component, <a href="webpack">webpack</a> can't determine if callbacks use the require or not to remove it from frontend code. Fully investigated and solved at:<div class="list"><ul id="_116"><li id="_117"><a href="https://stackoverflow.com/questions/64926174/module-not-found-cant-resolve-fs-in-next-js-application/70363153#70363153">stackoverflow.com/questions/64926174/module-not-found-cant-resolve-fs-in-next-js-application/70363153#70363153</a></li></ul></div></div><div class="p" id="_118">Overviews:<div class="list"><ul id="_119"><li id="_120"><a href="https://www.reddit.com/r/reactjs/comments/8evy5d/what_are_the_downsides_to_nextjs/">www.reddit.com/r/reactjs/comments/8evy5d/what_are_the_downsides_to_nextjs/</a> 2017 What are the downsides to Next.js?</li></ul></div></div><div class="p" id="_121">TODO answer:<div class="list"><ul id="_122"><li id="_123"><a href="https://stackoverflow.com/questions/59674496/how-to-pass-pageprops-in-next-js-from-a-child-component-to-app-js">stackoverflow.com/questions/59674496/how-to-pass-pageprops-in-next-js-from-a-child-component-to-app-js</a></li></ul></div></div><div class="toc-container" id="_toc"><ul><li class="has-child toplevel"><div class="title-div"><div class="arrow"><div></div></div><span class="not-arrow"><a class="title toc" href="#_toc"> Table of contents</a><input class="search" placeholder="üîç Search. Shortcut: / (slash)"><span class="hover-metadata"><span class="metrics"><span class="wcntr"> 867</span><span class="dcnt"> 5</span></span></span></span></div><ul><li class="has-child"><div id="_toc/next-js-example"><div class="arrow"><div></div></div><span class="not-arrow"><a href="react#next-js-example">Next.js example</a><span class="hover-metadata"><a href="#_toc" class="u"> Next.js</a><span class="metrics"><span class="wcntr"> 379</span><span class="dcnt"> 3</span></span></span></span></div><ul><li><div id="_toc/_file/nodejs/next/posts"><div class="arrow"><div></div></div><span class="not-arrow"><a href="react#_file/nodejs/next/posts">nodejs/next/posts</a><span class="hover-metadata"><a href="#_toc/next-js-example" class="u"> Next.js example</a><span class="metrics"><span class="wcntr"> 131</span></span></span></span></div></li><li><div id="_toc/_file/nodejs/next/ref-twice"><div class="arrow"><div></div></div><span class="not-arrow"><a href="react#_file/nodejs/next/ref-twice">nodejs/next/ref-twice</a><span class="hover-metadata"><a href="#_toc/next-js-example" class="u"> Next.js example</a><span class="metrics"><span class="wcntr"> 126</span></span></span></span></div></li><li><div id="_toc/_file/nodejs/next/inject-into-static"><div class="arrow"><div></div></div><span class="not-arrow"><a href="react#_file/nodejs/next/inject-into-static">nodejs/next/inject-into-static</a><span class="hover-metadata"><a href="#_toc/next-js-example" class="u"> Next.js example</a><span class="metrics"><span class="wcntr"> 24</span></span></span></span></div></li></ul><li><div id="_toc/node-express-sequelize-next-js-realworld-example-app"><div class="arrow"><div></div></div><span class="not-arrow"><a href="react#node-express-sequelize-next-js-realworld-example-app">Node Express Sequelize Next.js realworld example app</a><span class="hover-metadata"><a href="#_toc" class="u"> Next.js</a></span></span></div></li></ul></li></ul></div><h2 id="_ancestors"><a href="#_ancestors"><span class="fa-solid-900 icon">ÔÅ¢</span> Ancestors <span class="meta">(11)</span></a></h2><div class="list"><ol><li><a href="react">React</a></li><li><a href="web-technology#list-of-front-end-web-frameworks">List of front-end web frameworks</a></li><li><a href="web-technology#front-end-web-framework">Front-end web framework</a></li><li><a href="web-technology#web-framework">Web framework</a></li><li><a href="web-technology">Web technology</a></li><li><a href="software">Software</a></li><li><a href="computer">Computer</a></li><li><a href="technology#information-technology">Information technology</a></li><li><a href="technology#area-of-technology">Area of technology</a></li><li><a href="technology">Technology</a></li><li><a href="."><span title="Home" class="fa-solid-900 icon">ÔÄï</span> Home</a></li></ol></div><h2 id="_incoming-links"><a href="#_incoming-links"><span title="Incoming links" class="fa-solid-900 icon">ÔÅ†</span> Incoming links <span class="meta">(6)</span></a></h2><div class="list"><ul><li><a href="react#_file/react/ref-twice.html">react/ref-twice.html</a></li><li><a href="telecommunication#leanpub">Leanpub</a></li><li><a href="the-most-important-projects-done-by-ciro-santilli#ourbigbook-com-top-project">OurBigBook.com</a></li><li><a href="react">React</a></li><li><a href="sponsor/updates/4#further-improvements-to-the-website-s-base-technology">Further improvements to the website's base technology</a></li><li><a href="updates#how-the-tech-improved">How the tech improved</a></li></ul></div>
</main>
<footer>
<div>Powered by <a href="https://docs.ourbigbook.com">OurBigBook</a></div>
<div>License: <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a> unless noted</div>
<div><a href="https://github.com/cirosantilli/cirosantilli.github.io/issues">Suggestions and corrections</a></div>
<div><a href="contact">Contact Ciro Santilli</a></div>
<div><a href="_dir">Website source code</a></div>
<div><a href="https://github.com/cirosantilli/cirosantilli.github.io">Website source code on GitHub</a></div>
<div><a href="_file/react.bigb">Source code for this page: react.bigb</a></div>
<div><a href="https://github.com/cirosantilli/cirosantilli.github.io/blob/a4d833d32a963800b7b90b69207f6802c6bb72d2/react.bigb">Source code for this page on GitHub</a></div>
<div>Cite with: <a href="https://zenodo.org/badge/latestdoi/16453261">this DOI</a></div>
<div><img src="https://raw.githubusercontent.com/cirosantilli/media/master/ID_photo_of_Ciro_Santilli_taken_in_2013_left_eye_200_100.jpg" loading="lazy" alt="ID photo of Ciro Santilli taken in 2013 right eye"></div>
</footer>
<script>
window.ourbigbook_split_headers = true;
window.ourbigbook_html_x_extension = false;
window.ourbigbook_redirect_prefix = "";
</script>
<script src="_obb/dist/ourbigbook_runtime.js"></script><script>ourbigbook_runtime.ourbigbook_runtime()</script><script src="_raw/main.js"></script>
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-47867706-1', 'auto');
ga('send', 'pageview');
</script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-DEE2HEJW9X"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-DEE2HEJW9X');
</script>
<script src="https://giscus.app/client.js"
        data-repo="cirosantilli/cirosantilli.github.io"
        data-repo-id="MDEwOlJlcG9zaXRvcnkxNjQ1MzI2MQ=="
        data-category="giscus"
        data-category-id="DIC_kwDOAPsOjc4CZ6zZ"
        data-mapping="pathname"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="bottom"
        data-theme="dark_high_contrast"
        data-lang="en"
        crossorigin="anonymous"
        async>
</script>
</body>
</html>
